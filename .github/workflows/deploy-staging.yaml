name: Deploy to Staging

on:
  workflow_run:
    workflows: [ "Docker Container Build" ]
    types:
      - completed
  workflow_dispatch:

# jobs:
#   deploy-staging:
#     runs-on: ubuntu-latest
#     if: |
#       (github.event_name == 'workflow_run' &&
#        github.event.workflow_run.conclusion == 'success' &&
#        github.event.workflow_run.head_branch == 'dev') ||
#       (github.event_name == 'workflow_dispatch' &&
#        github.ref == 'refs/heads/dev')
#     env:
#       HF_TOKEN: ${{ secrets.HF_TOKEN }}
#     steps:
#       - uses: actions/checkout@v4
#         with:
#           fetch-depth: 0
#           lfs: true
#           ref: dev

#       - name: Set up git identity
#         run: |
#           git config user.name "github-actions[bot]"
#           git config user.email "github-actions[bot]@users.noreply.github.com"

#       - name: Push to hub
#         env:
#           HF_TOKEN: ${{ secrets.HF_TOKEN }}
#         run: git push https://pesu-dev:$HF_TOKEN@huggingface.co/spaces/pesu-dev/askpesu-dev dev:main --force
